<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      href="https://font.elice.io/css?family=Elice+DX+Neolli"
      rel="stylesheet"
    />

    <style>
      html,
      body {
        font-family: "Elice DX Neolli", sans-serif;
      }
    </style>
    <title>게시글 추가</title>
  </head>
  <body>
    <div class="container my-5">
      <div class="header mb-5">
        <h1 class="text-center">게시글 추가</h1>
      </div>
      <form th:action="@{/posts/create(boardId=${board.id})}" method="post" id="postForm">
        <div class="mb-3">
          <label for="nickname">닉네임</label>
          <input
            type="text"
            class="form-control"
            id="nickname"
            name="nickname"
            maxlength="30"
            placeholder="닉네임 (최대 20자)"
            required
          />
        </div>
        <div class="mb-3">
          <label for="title">게시글 제목</label>
          <input
                  type="text"
                  class="form-control"
                  id="title"
                  name="title"
                  maxlength="30"
                  placeholder="게시글 제목 입력 (최대 30자)"
                  required
          />
        </div>
        <div class="dropdown mb-2">
          <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            언어
          </button>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" onclick="changeLanguage('JAVA', 'JAVA')">JAVA</a></li>
            <li><a class="dropdown-item" onclick="changeLanguage('Python', 'Python')">Python</a></li>
            <li><a class="dropdown-item" onclick="changeLanguage('C', 'C')">C</a></li>
            <li><a class="dropdown-item" onclick="changeLanguage('C++', 'C++')">C++</a></li>
            <li><a class="dropdown-item" onclick="changeLanguage('C#', 'C#')">C#</a></li>
            <li><a class="dropdown-item" onclick="changeLanguage('Kotlin', 'Kotlin')">Kotlin</a></li>
            <li><a class="dropdown-item" onclick="changeLanguage('Go', 'Go')">Go</a></li>
            <li><a class="dropdown-item" onclick="changeLanguage('Javascipt', 'Javascipt')">Javascipt</a></li>
            <li><a class="dropdown-item" onclick="changeLanguage('R', 'R')">R</a></li>
            <li><a class="dropdown-item" onclick="changeLanguage('Swift', 'Swift')">Swift</a></li>
            <li><a class="dropdown-item" onclick="changeLanguage('SQL', 'SQL')">SQL</a></li>
          </ul>
          <input type="hidden" id="languageInput" name="language"/>
        </div>
        <div class="mb-3">
          <label for="content">내용</label>
          <textarea
            class="form-control"
            id="content"
            name="content"
            placeholder="내용 입력"
          ></textarea>
        </div>
        <button type="submit" class="btn btn-primary">업로드</button>
        <button
          type="button"
          class="btn btn-secondary"
          onclick="window.history.back();"
        >
          취소
        </button>
      </form>
    </div>

    <!-- 부트스트랩 JS 추가 -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    >
    </script>
    <script>
      // JavaScript로 Dropdown 메뉴 아이템을 클릭할 때 Dropdown 버튼의 텍스트를 변경하는 함수
      function changeLanguage(text, language) {
          // Dropdown 버튼 선택
          var dropdownButton = document.querySelector('.dropdown button');
          // Dropdown 버튼의 텍스트 변경
          dropdownButton.textContent = text;

          var lang = document.getElementById('languageInput');
          lang.value = language;

      }
    </script>
  </body>
</html>
